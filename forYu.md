## 后台总体设计思路
- 后台与游戏核心应是隔离的。后台不管是没有上线，或者是在做繁重的数据统计工作，都不应对玩家的游戏体验有丝毫的影响
- 后台不但包括可视化网页，更重要的是包括整个游戏运营数据；游戏核心使用的数据存储方案是基于NoSQL的，应该不能满足后台的需求，后台需要自己存储运营数据

基于以上两条认识，最粗略的后台框架是：后台暴露一个消息队列服务，游戏核心在游戏运行的过程中，会不断的push事件到此队列。后台通过消耗这个消息队列而更新自己的数据和报表。


```sequence
游戏 ->> 后台消息队列: 游戏事件(包括操作和更新后的玩家数据)
Note left of 游戏: 游戏侧
后台业务服务 -->> 后台消息队列: 异步拉取事件并处理
后台网页 ->> 后台业务服务: 发送请求获取数据与报表
Note right of 后台网页: 运营人员
```

```flow                     // 流程
st=>start: 开始|past:> http://www.baidu.com // 开始
e=>end: 结束              // 结束
c1=>condition: 条件1:>http://www.baidu.com[_parent]   // 判断条件
c2=>condition: 条件2      // 判断条件
c3=>condition: 条件3      // 判断条件
io=>inputoutput: 输出     // 输出
//----------------以上为定义参数-------------------------

//----------------以下为连接参数-------------------------
// 开始->判断条件1为no->判断条件2为no->判断条件3为no->输出->结束
st->c1(yes,right)->c2(yes,right)->c3(yes,right)->io->e
c1(no)->e                   // 条件1不满足->结束
c2(no)->e                   // 条件2不满足->结束
c3(no)->e                   // 条件3不满足->结束
```
